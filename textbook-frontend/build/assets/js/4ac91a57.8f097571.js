"use strict";(globalThis.webpackChunktextbook_frontend=globalThis.webpackChunktextbook_frontend||[]).push([[896],{6421:(n,i,e)=>{e.r(i),e.d(i,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"chapter-05-unity","title":"Chapter 5: Unity for High-Fidelity Visualization","description":"Learning Objectives","source":"@site/docs/chapter-05-unity.md","sourceDirName":".","slug":"/chapter-05-unity","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapter-05-unity","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/chapter-05-unity.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 4: Gazebo Simulation - Testing in the Digital Twin","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapter-04-gazebo"},"next":{"title":"Chapter 6: NVIDIA Isaac Sim - The Ultimate Robot Simulator","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapter-06-isaac-sim"}}');var s=e(4848),t=e(8453);const l={sidebar_position:6},o="Chapter 5: Unity for High-Fidelity Visualization",a={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Why Unity for Robotics?",id:"why-unity-for-robotics",level:2},{value:"Unity + ROS 2 Architecture",id:"unity--ros-2-architecture",level:2},{value:"Setting Up Unity with ROS 2",id:"setting-up-unity-with-ros-2",level:2},{value:"Step 1: Install Unity Hub",id:"step-1-install-unity-hub",level:3},{value:"Step 2: Create New Unity Project",id:"step-2-create-new-unity-project",level:3},{value:"Step 3: Install ROS-TCP-Connector",id:"step-3-install-ros-tcp-connector",level:3},{value:"Step 4: Install ROS-TCP-Endpoint (ROS 2 side)",id:"step-4-install-ros-tcp-endpoint-ros-2-side",level:3},{value:"Step 5: Configure Connection",id:"step-5-configure-connection",level:3},{value:"Importing a Humanoid Model",id:"importing-a-humanoid-model",level:2},{value:"Option 1: URDF Importer",id:"option-1-urdf-importer",level:3},{value:"Option 2: FBX/OBJ Models",id:"option-2-fbxobj-models",level:3},{value:"Visualizing ROS Topics in Unity",id:"visualizing-ros-topics-in-unity",level:2},{value:"Example: Visualizing Joint States",id:"example-visualizing-joint-states",level:3},{value:"Visualizing LiDAR Data",id:"visualizing-lidar-data",level:2},{value:"Creating Photorealistic Environments",id:"creating-photorealistic-environments",level:2},{value:"Using HDRP (High Definition Render Pipeline)",id:"using-hdrp-high-definition-render-pipeline",level:3},{value:"Example: Home Environment",id:"example-home-environment",level:3},{value:"Human Animation with Mecanim",id:"human-animation-with-mecanim",level:2},{value:"Lab Exercise: Visualizing a Walking Humanoid",id:"lab-exercise-visualizing-a-walking-humanoid",level:2},{value:"Objective",id:"objective",level:3},{value:"Step 1: Set Up ROS 2 Publisher",id:"step-1-set-up-ros-2-publisher",level:3},{value:"Step 2: Create Unity Scene",id:"step-2-create-unity-scene",level:3},{value:"Step 3: Test Connection",id:"step-3-test-connection",level:3},{value:"Quiz",id:"quiz",level:2},{value:"Summary",id:"summary",level:2}];function d(n){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"chapter-5-unity-for-high-fidelity-visualization",children:"Chapter 5: Unity for High-Fidelity Visualization"})}),"\n",(0,s.jsx)(i.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Understand Unity's role in robotics visualization"}),"\n",(0,s.jsx)(i.li,{children:"Set up Unity with ROS 2 integration"}),"\n",(0,s.jsx)(i.li,{children:"Create photorealistic environments for human-robot interaction"}),"\n",(0,s.jsx)(i.li,{children:"Implement ROS-TCP-Connector for data exchange"}),"\n",(0,s.jsx)(i.li,{children:"Visualize sensor data (LiDAR, camera) in Unity"}),"\n",(0,s.jsx)(i.li,{children:"Build interactive scenarios for testing humanoid behaviors"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"why-unity-for-robotics",children:"Why Unity for Robotics?"}),"\n",(0,s.jsxs)(i.p,{children:["While Gazebo excels at physics simulation, ",(0,s.jsx)(i.strong,{children:"Unity"})," offers:"]}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Feature"}),(0,s.jsx)(i.th,{children:"Gazebo"}),(0,s.jsx)(i.th,{children:"Unity"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"Graphics Quality"})}),(0,s.jsx)(i.td,{children:"Moderate"}),(0,s.jsx)(i.td,{children:"Photorealistic (HDRP)"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"Human Animation"})}),(0,s.jsx)(i.td,{children:"Limited"}),(0,s.jsx)(i.td,{children:"Advanced (Mecanim)"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"UI/UX"})}),(0,s.jsx)(i.td,{children:"Basic"}),(0,s.jsx)(i.td,{children:"Professional game engine tools"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"VR/AR Support"})}),(0,s.jsx)(i.td,{children:"None"}),(0,s.jsx)(i.td,{children:"Native"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"Asset Ecosystem"})}),(0,s.jsx)(i.td,{children:"Small"}),(0,s.jsx)(i.td,{children:"Massive (Asset Store)"})]})]})]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Use Cases"}),":"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Human-Robot Interaction (HRI)"}),": Test how humans react to robots"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Marketing/Demos"}),": High-quality visualizations for stakeholders"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Data Visualization"}),": Real-time sensor data overlays"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Digital Twins"}),": Mirror physical robots in virtual environments"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"unity--ros-2-architecture",children:"Unity + ROS 2 Architecture"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-mermaid",children:"graph LR\r\n    A[ROS 2 Nodes] <--\x3e|ROS-TCP-Endpoint| B[TCP Server]\r\n    B <--\x3e|Network| C[Unity ROS-TCP-Connector]\r\n    C --\x3e D[Unity Scene]\r\n    D --\x3e E[Humanoid Model]\r\n    D --\x3e F[Environment]\r\n    D --\x3e G[Sensor Visualization]\n"})}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Components"}),":"]}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"ROS-TCP-Endpoint"}),": ROS 2 package that acts as a TCP server"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"ROS-TCP-Connector"}),": Unity package that connects to the server"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Message Serialization"}),": Converts ROS messages to Unity-compatible format"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"setting-up-unity-with-ros-2",children:"Setting Up Unity with ROS 2"}),"\n",(0,s.jsx)(i.h3,{id:"step-1-install-unity-hub",children:"Step 1: Install Unity Hub"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"# Download Unity Hub from https://unity.com/download\r\n# Install Unity 2022.3 LTS (Long Term Support)\n"})}),"\n",(0,s.jsx)(i.h3,{id:"step-2-create-new-unity-project",children:"Step 2: Create New Unity Project"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"Open Unity Hub"}),"\n",(0,s.jsx)(i.li,{children:'Click "New Project"'}),"\n",(0,s.jsx)(i.li,{children:'Select "3D (HDRP)" template for photorealistic rendering'}),"\n",(0,s.jsx)(i.li,{children:'Name: "HumanoidRoboticsViz"'}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"step-3-install-ros-tcp-connector",children:"Step 3: Install ROS-TCP-Connector"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["In Unity, go to ",(0,s.jsx)(i.strong,{children:"Window > Package Manager"})]}),"\n",(0,s.jsxs)(i.li,{children:["Click ",(0,s.jsx)(i.strong,{children:"+ > Add package from git URL"})]}),"\n",(0,s.jsxs)(i.li,{children:["Enter: ",(0,s.jsx)(i.code,{children:"https://github.com/Unity-Technologies/ROS-TCP-Connector.git?path=/com.unity.robotics.ros-tcp-connector"})]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"step-4-install-ros-tcp-endpoint-ros-2-side",children:"Step 4: Install ROS-TCP-Endpoint (ROS 2 side)"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"cd ~/ros2_ws/src\r\ngit clone https://github.com/Unity-Technologies/ROS-TCP-Endpoint.git\r\ncd ~/ros2_ws\r\ncolcon build --packages-select ros_tcp_endpoint\r\nsource install/setup.bash\n"})}),"\n",(0,s.jsx)(i.h3,{id:"step-5-configure-connection",children:"Step 5: Configure Connection"}),"\n",(0,s.jsx)(i.p,{children:"In Unity:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.strong,{children:"Robotics > ROS Settings"})}),"\n",(0,s.jsxs)(i.li,{children:["Set ",(0,s.jsx)(i.strong,{children:"ROS IP Address"}),": ",(0,s.jsx)(i.code,{children:"127.0.0.1"})," (localhost)"]}),"\n",(0,s.jsxs)(i.li,{children:["Set ",(0,s.jsx)(i.strong,{children:"ROS Port"}),": ",(0,s.jsx)(i.code,{children:"10000"})]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Launch ROS-TCP-Endpoint:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"ros2 run ros_tcp_endpoint default_server_endpoint --ros-args -p ROS_IP:=0.0.0.0\n"})}),"\n",(0,s.jsx)(i.h2,{id:"importing-a-humanoid-model",children:"Importing a Humanoid Model"}),"\n",(0,s.jsx)(i.h3,{id:"option-1-urdf-importer",children:"Option 1: URDF Importer"}),"\n",(0,s.jsx)(i.p,{children:"Unity has a URDF importer package:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"# In Unity Package Manager, add:\r\nhttps://github.com/Unity-Technologies/URDF-Importer.git?path=/com.unity.robotics.urdf-importer\n"})}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Steps"}),":"]}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.strong,{children:"Assets > Import Robot from URDF"})}),"\n",(0,s.jsxs)(i.li,{children:["Select your ",(0,s.jsx)(i.code,{children:"humanoid.urdf"})," file"]}),"\n",(0,s.jsx)(i.li,{children:"Unity will create GameObjects for each link and joint"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"option-2-fbxobj-models",children:"Option 2: FBX/OBJ Models"}),"\n",(0,s.jsx)(i.p,{children:"For higher visual quality:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"Export robot meshes from CAD (SolidWorks, Fusion 360) as FBX"}),"\n",(0,s.jsx)(i.li,{children:"Import into Unity"}),"\n",(0,s.jsxs)(i.li,{children:["Manually configure joints using ",(0,s.jsx)(i.strong,{children:"Articulation Body"})," components"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"visualizing-ros-topics-in-unity",children:"Visualizing ROS Topics in Unity"}),"\n",(0,s.jsx)(i.h3,{id:"example-visualizing-joint-states",children:"Example: Visualizing Joint States"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"ROS 2 Side"})," (Publishing joint states):"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom sensor_msgs.msg import JointState\r\nimport math\r\n\r\nclass JointStatePublisher(Node):\r\n    def __init__(self):\r\n        super().__init__('joint_state_publisher')\r\n        self.publisher_ = self.create_publisher(JointState, 'joint_states', 10)\r\n        self.timer = self.create_timer(0.05, self.publish_joint_states)\r\n        self.angle = 0.0\r\n    \r\n    def publish_joint_states(self):\r\n        msg = JointState()\r\n        msg.header.stamp = self.get_clock().now().to_msg()\r\n        msg.name = ['hip', 'knee', 'ankle']\r\n        \r\n        # Simulate walking motion\r\n        self.angle += 0.05\r\n        msg.position = [\r\n            math.sin(self.angle),\r\n            abs(math.sin(self.angle)) * 1.5,\r\n            math.sin(self.angle) * 0.3\r\n        ]\r\n        \r\n        self.publisher_.publish(msg)\r\n\r\ndef main():\r\n    rclpy.init()\r\n    node = JointStatePublisher()\r\n    rclpy.spin(node)\n"})}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Unity Side"})," (C# Script):"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-csharp",children:'using UnityEngine;\r\nusing Unity.Robotics.ROSTCPConnector;\r\nusing RosMessageTypes.Sensor;\r\n\r\npublic class JointStateSubscriber : MonoBehaviour\r\n{\r\n    public ArticulationBody hipJoint;\r\n    public ArticulationBody kneeJoint;\r\n    public ArticulationBody ankleJoint;\r\n    \r\n    void Start()\r\n    {\r\n        ROSConnection.GetOrCreateInstance().Subscribe<JointStateMsg>(\r\n            "joint_states", UpdateJointStates);\r\n    }\r\n    \r\n    void UpdateJointStates(JointStateMsg msg)\r\n    {\r\n        if (msg.name.Length >= 3)\r\n        {\r\n            SetJointPosition(hipJoint, msg.position[0]);\r\n            SetJointPosition(kneeJoint, msg.position[1]);\r\n            SetJointPosition(ankleJoint, msg.position[2]);\r\n        }\r\n    }\r\n    \r\n    void SetJointPosition(ArticulationBody joint, double targetPosition)\r\n    {\r\n        var drive = joint.xDrive;\r\n        drive.target = (float)(targetPosition * Mathf.Rad2Deg);\r\n        joint.xDrive = drive;\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(i.h2,{id:"visualizing-lidar-data",children:"Visualizing LiDAR Data"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Unity Script"})," (",(0,s.jsx)(i.code,{children:"LidarVisualizer.cs"}),"):"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-csharp",children:'using UnityEngine;\r\nusing Unity.Robotics.ROSTCPConnector;\r\nusing RosMessageTypes.Sensor;\r\n\r\npublic class LidarVisualizer : MonoBehaviour\r\n{\r\n    public GameObject pointPrefab;\r\n    private GameObject[] points;\r\n    \r\n    void Start()\r\n    {\r\n        ROSConnection.GetOrCreateInstance().Subscribe<LaserScanMsg>(\r\n            "scan", VisualizeLidar);\r\n        \r\n        // Pre-instantiate point cloud\r\n        points = new GameObject[640];\r\n        for (int i = 0; i < points.Length; i++)\r\n        {\r\n            points[i] = Instantiate(pointPrefab, transform);\r\n            points[i].transform.localScale = Vector3.one * 0.05f;\r\n        }\r\n    }\r\n    \r\n    void VisualizeLidar(LaserScanMsg scan)\r\n    {\r\n        float angle = scan.angle_min;\r\n        for (int i = 0; i < scan.ranges.Length && i < points.Length; i++)\r\n        {\r\n            float range = scan.ranges[i];\r\n            if (range > scan.range_min && range < scan.range_max)\r\n            {\r\n                float x = range * Mathf.Cos(angle);\r\n                float z = range * Mathf.Sin(angle);\r\n                points[i].transform.localPosition = new Vector3(x, 0, z);\r\n                points[i].SetActive(true);\r\n            }\r\n            else\r\n            {\r\n                points[i].SetActive(false);\r\n            }\r\n            angle += scan.angle_increment;\r\n        }\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(i.h2,{id:"creating-photorealistic-environments",children:"Creating Photorealistic Environments"}),"\n",(0,s.jsx)(i.h3,{id:"using-hdrp-high-definition-render-pipeline",children:"Using HDRP (High Definition Render Pipeline)"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Lighting"}),":"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Add ",(0,s.jsx)(i.strong,{children:"Directional Light"})," (sun)"]}),"\n",(0,s.jsxs)(i.li,{children:["Add ",(0,s.jsx)(i.strong,{children:"HDRI Sky"})," for realistic ambient lighting"]}),"\n",(0,s.jsxs)(i.li,{children:["Enable ",(0,s.jsx)(i.strong,{children:"Global Illumination"})," (baked or real-time)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Materials"}),":"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Use ",(0,s.jsx)(i.strong,{children:"Lit Shader"})," with PBR (Physically Based Rendering)"]}),"\n",(0,s.jsxs)(i.li,{children:["Add ",(0,s.jsx)(i.strong,{children:"Normal Maps"})," for surface detail"]}),"\n",(0,s.jsxs)(i.li,{children:["Use ",(0,s.jsx)(i.strong,{children:"Metallic/Smoothness"})," maps for realistic surfaces"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Post-Processing"}),":"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Add ",(0,s.jsx)(i.strong,{children:"Post-Process Volume"})]}),"\n",(0,s.jsxs)(i.li,{children:["Enable ",(0,s.jsx)(i.strong,{children:"Bloom"}),", ",(0,s.jsx)(i.strong,{children:"Ambient Occlusion"}),", ",(0,s.jsx)(i.strong,{children:"Motion Blur"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"example-home-environment",children:"Example: Home Environment"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-csharp",children:"// Script to spawn furniture procedurally\r\nusing UnityEngine;\r\n\r\npublic class HomeEnvironmentGenerator : MonoBehaviour\r\n{\r\n    public GameObject[] furniturePrefabs;\r\n    \r\n    void Start()\r\n    {\r\n        // Spawn a table\r\n        Instantiate(furniturePrefabs[0], new Vector3(2, 0, 0), Quaternion.identity);\r\n        \r\n        // Spawn chairs\r\n        Instantiate(furniturePrefabs[1], new Vector3(1.5f, 0, 0.5f), Quaternion.Euler(0, 90, 0));\r\n        Instantiate(furniturePrefabs[1], new Vector3(2.5f, 0, 0.5f), Quaternion.Euler(0, -90, 0));\r\n    }\r\n}\n"})}),"\n",(0,s.jsx)(i.h2,{id:"human-animation-with-mecanim",children:"Human Animation with Mecanim"}),"\n",(0,s.jsxs)(i.p,{children:["Unity's ",(0,s.jsx)(i.strong,{children:"Mecanim"})," system allows realistic human animations:"]}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["Import human character from ",(0,s.jsx)(i.strong,{children:"Mixamo"})," (free rigged characters)"]}),"\n",(0,s.jsxs)(i.li,{children:["Create ",(0,s.jsx)(i.strong,{children:"Animator Controller"})," with states (idle, walk, run)"]}),"\n",(0,s.jsxs)(i.li,{children:["Use ",(0,s.jsx)(i.strong,{children:"Blend Trees"})," for smooth transitions"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Example: Human Walking Toward Robot"})}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-csharp",children:'using UnityEngine;\r\nusing UnityEngine.AI;\r\n\r\npublic class HumanAgent : MonoBehaviour\r\n{\r\n    public Transform robot;\r\n    private NavMeshAgent navAgent;\r\n    private Animator animator;\r\n    \r\n    void Start()\r\n    {\r\n        navAgent = GetComponent<NavMeshAgent>();\r\n        animator = GetComponent<Animator>();\r\n    }\r\n    \r\n    void Update()\r\n    {\r\n        // Walk toward robot\r\n        navAgent.SetDestination(robot.position);\r\n        \r\n        // Update animation based on speed\r\n        float speed = navAgent.velocity.magnitude;\r\n        animator.SetFloat("Speed", speed);\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(i.h2,{id:"lab-exercise-visualizing-a-walking-humanoid",children:"Lab Exercise: Visualizing a Walking Humanoid"}),"\n",(0,s.jsx)(i.h3,{id:"objective",children:"Objective"}),"\n",(0,s.jsx)(i.p,{children:"Create a Unity scene that:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"Displays a humanoid robot receiving joint commands from ROS 2"}),"\n",(0,s.jsx)(i.li,{children:"Shows LiDAR data as a point cloud"}),"\n",(0,s.jsx)(i.li,{children:"Includes a photorealistic environment"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"step-1-set-up-ros-2-publisher",children:"Step 1: Set Up ROS 2 Publisher"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"ros2 run humanoid_leg_description joint_state_publisher\n"})}),"\n",(0,s.jsx)(i.h3,{id:"step-2-create-unity-scene",children:"Step 2: Create Unity Scene"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"Import humanoid URDF"}),"\n",(0,s.jsxs)(i.li,{children:["Add ",(0,s.jsx)(i.code,{children:"JointStateSubscriber.cs"})," script"]}),"\n",(0,s.jsx)(i.li,{children:"Create a floor plane with PBR material"}),"\n",(0,s.jsx)(i.li,{children:"Add HDRI lighting"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"step-3-test-connection",children:"Step 3: Test Connection"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"Launch ROS-TCP-Endpoint"}),"\n",(0,s.jsx)(i.li,{children:"Press Play in Unity"}),"\n",(0,s.jsx)(i.li,{children:"Verify robot joints move in sync with ROS 2 commands"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"quiz",children:"Quiz"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"What is Unity's primary advantage over Gazebo?"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"A) Better physics"}),"\n",(0,s.jsx)(i.li,{children:"B) Photorealistic graphics and HRI"}),"\n",(0,s.jsx)(i.li,{children:"C) Faster simulation"}),"\n",(0,s.jsx)(i.li,{children:"D) Easier to learn"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Answer: B"})}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"What does ROS-TCP-Connector do?"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"A) Simulates physics"}),"\n",(0,s.jsx)(i.li,{children:"B) Bridges ROS 2 and Unity via TCP"}),"\n",(0,s.jsx)(i.li,{children:"C) Renders 3D models"}),"\n",(0,s.jsx)(i.li,{children:"D) Compiles C++ code"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Answer: B"})}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Which Unity component is used for robot joints?"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"A) Rigidbody"}),"\n",(0,s.jsx)(i.li,{children:"B) Articulation Body"}),"\n",(0,s.jsx)(i.li,{children:"C) Mesh Renderer"}),"\n",(0,s.jsx)(i.li,{children:"D) Collider"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Answer: B"})}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"What is HDRP?"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"A) A physics engine"}),"\n",(0,s.jsx)(i.li,{children:"B) High Definition Render Pipeline for photorealistic graphics"}),"\n",(0,s.jsx)(i.li,{children:"C) A networking protocol"}),"\n",(0,s.jsx)(i.li,{children:"D) A scripting language"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Answer: B"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(i.p,{children:"In this chapter, we integrated Unity with ROS 2 for high-fidelity visualization. We set up ROS-TCP-Connector, imported humanoid models, visualized sensor data (joint states, LiDAR), and created photorealistic environments using HDRP. Unity complements Gazebo by providing superior graphics for human-robot interaction studies and demonstrations."}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Next Chapter"}),": We'll explore NVIDIA Isaac Sim, the industry-leading platform for photorealistic robot simulation and synthetic data generation."]})]})}function h(n={}){const{wrapper:i}={...(0,t.R)(),...n.components};return i?(0,s.jsx)(i,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},8453:(n,i,e)=>{e.d(i,{R:()=>l,x:()=>o});var r=e(6540);const s={},t=r.createContext(s);function l(n){const i=r.useContext(t);return r.useMemo(function(){return"function"==typeof n?n(i):{...i,...n}},[i,n])}function o(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:l(n.components),r.createElement(t.Provider,{value:i},n.children)}}}]);