"use strict";(globalThis.webpackChunktextbook_frontend=globalThis.webpackChunktextbook_frontend||[]).push([[8401],{5405:(t,e,n)=>{n.d(e,{A:()=>s});var a=n(6540),o=n(7325),r=n(7331),l=n(4848);function s(t){const[e,n]=(0,a.useState)("default"),[s,d]=(0,a.useState)(null),[i,u]=(0,a.useState)(!1),c=async t=>{u(!0);const e=document.querySelector("article"),a=e?e.innerText:"";if(!a)return alert("Could not find content to process"),void u(!1);try{const e="urdu"===t?"http://localhost:8000/rag/translate":"http://localhost:8000/rag/personalize",o="urdu"===t?{text:a,target_language:"Urdu"}:{text:a,level:"beginner"},r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),l=await r.json();d(l.personalized_markdown||l.translated_markdown),n(t)}catch(o){console.error(o),alert("Failed to process content. Backend might be offline.")}finally{u(!1)}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[(0,l.jsx)("button",{className:"button "+("default"===e?"button--secondary":"button--outline button--secondary"),onClick:()=>n("default"),disabled:"default"===e,children:"Original"}),(0,l.jsx)("button",{className:"button button--primary",onClick:()=>c("personalized"),disabled:i,children:i&&"personalized"===e?"Personalizing...":"\u2728 Personalize"}),(0,l.jsx)("button",{className:"button button--info",onClick:()=>c("urdu"),disabled:i,children:i&&"urdu"===e?"Translating...":"\ud83c\udf10 Translate to Urdu"})]}),"default"===e?(0,l.jsx)(o.A,{...t}):(0,l.jsx)("div",{className:"markdown",dir:"urdu"===e?"rtl":"ltr",style:{padding:"20px",border:"1px solid #eee",borderRadius:"8px"},children:(0,l.jsx)(r.oz,{children:s})})]})}}}]);